<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="/client/src/app/myjs.js"></script>
<br>
<br>
<div *ngIf="usernameId">
    <div class="card  ca border-light mb-3" style="max-width: 18rem">
        <div class="card-header card-h">What do you want to buy?</div>
        <div class="card-body card-b">
            <form>
                <input class="form-control" width="50px" type="text" placeholder="Product name " [(ngModel)]="values" name="values">
                <br>

                <select class="form-control" width="50px" [(ngModel)]="country" name="country">
                    <option *ngFor="let country of users" value="{{country}}">{{country}}</option>
                </select>


                <br>

                <div *ngIf="values">
                    <h3>When do you want your future {{values}} ?</h3>
                </div>
                <mat-form-field class="example-full-width">
                    <input matInput [matDatepicker]="picker" [(ngModel)]="myDate" name="myDate" (dateInput)="submitDate(myDate)">
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker touchUi="true" #picker></mat-datepicker>
                </mat-form-field>
                <br>
                <button class="btn btn-s" (click)="submitProduct()"> Submit </button>
                <button class="btn btn-s" (click)="searchProduct()"> Search </button>
                <br>
            </form>
        </div>
    </div>
    <br>
    <div *ngFor="let price of p" class="card" style="width: 15rem;">
        <img class="card-img-top" src={{image}} width="25" alt="Card image cap">
        <div class="card-body">
            <h5 class="card-title">{{ price.price | json}} - {{ price.currency | json }} </h5>
            <p class="card-text">{{price.shop_name | json }}</p>
            <a href={{price.url}} target="_blank" class="btn btn-primary">View Product Link</a>
            <button class="btn  order-btn btn-success" (click)="order(price, myDate)">Order product </button>
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" data-whatever="@mdo">Ask your mule</button>       
         </div>
         <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title" id="exampleModalLabel">New message</h5>
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                      </button>
                    </div>
                    <div class="modal-body">
                      <form>
                        <div class="form-group">
                          <label for="recipient-name" class="col-form-label">Recipient:</label>
                          <input type="text" class="form-control" id="recipient-name">
                        </div>
                        <div class="form-group">
                          <label for="message-text" class="col-form-label">Message:</label>
                          <textarea class="form-control" id="message-text"></textarea>
                        </div>
                      </form>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                      <button type="button" class="btn btn-primary">Send message</button>
                    </div>
                  </div>
                </div>
              </div>
    </div>
    <br>
    <br>
    <!-- <button class="btn btn-danger" (click)="logout()">Logout-Home</button> -->
    <br>
    <br>
    <div *ngIf="!usernameId"> You do not have privileges to access this site! Please log in to place an order!
        <button [routerLink]="['']">Home</button>
    </div>
</div>